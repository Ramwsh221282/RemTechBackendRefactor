<div class="lg:col-span-1">
  <div class="bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 mb-6">
    <h2 class="text-xl font-semibold text-gray-800 dark:text-gray-200 mb-4">
      Быстрый поиск
    </h2>

    <div class="space-y-4">
      <p-select
        [fluid]="true"
        [options]="itemTypes"
        [(ngModel)]="readSelectedItemType"
        (ngModelChange)="handleUserItemTypeSelect($event)"
        placeholder="Выбрать категорию"
        class="w-full md:w-56"
      >
        <ng-template #selectedItem let-selectedOption>
          <div class="flex items-center gap-2">
            <div>{{ selectedOption }}</div>
          </div>
        </ng-template>
        <ng-template let-category #item>
          <div class="flex items-center gap-2">
            <div>{{ category }}</div>
          </div>
        </ng-template>
      </p-select>

      @if (userIsWatchingVehicles()) {
        <p-select
          [fluid]="true"
          [options]="categories()"
          [(ngModel)]="vehiclesFetchProps().category"
          [filter]="true"
          filterBy="Name"
          [showClear]="true"
          optionLabel="Name"
          placeholder="1. Выбрать тип техники"
          (onClear)="handleUserCategoryClear()"
          (onChange)="handleUserCategoryChange($event)"
          class="w-full md:w-56"
        >
        </p-select>
        @if (userSelectedCategory()) {
          <p-select
            [fluid]="true"
            [options]="brands()"
            [(ngModel)]="vehiclesFetchProps().brand"
            [filter]="true"
            filterBy="Name"
            [showClear]="true"
            optionLabel="Name"
            (onClear)="handleUserBrandClear()"
            (onChange)="handleUserBrandChange($event)"
            placeholder="2. Выбрать марку техники"
            class="w-full md:w-56"
          >
          </p-select>
          @if (userSelectedBrand()) {
            <p-select
              [fluid]="true"
              [options]="models()"
              [(ngModel)]="vehiclesFetchProps().model"
              [filter]="true"
              filterBy="name"
              optionLabel="Name"
              (onClear)="handleUserModelClear()"
              (onChange)="handleUserModelChange($event)"
              [showClear]="true"
              placeholder="3. Выбрать модель техники"
              class="w-full md:w-56"
            >
            </p-select>
            @if (
              userSelectedBrand() &&
              userSelectedCategory() &&
              userSelectedModel()
            ) {
              <button
                (click)="navigateVehicles()"
                class="w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-2 px-4 rounded-md transition duration-200"
              >
                Найти предложения
              </button>
            }
          }
        }
      }
      @if (userIsWatchingSpares()) {
        <input
          pInputText
          [placeholder]="'Введите что интересует'"
          [fluid]="true"
          [(ngModel)]="spareTextInput"
          (ngModelChange)="handleSpareTextSearchUserInput($event)"
        />
        <button
          (click)="navigateSpares()"
          class="w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-2 px-4 rounded-md transition duration-200"
        >
          Найти предложения
        </button>
      }
    </div>
  </div>
</div>
