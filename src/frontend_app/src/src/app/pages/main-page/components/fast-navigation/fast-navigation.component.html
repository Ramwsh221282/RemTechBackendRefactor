<div class="lg:col-span-1">
  <div class="bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 mb-6">
    <h2 class="text-xl font-semibold text-gray-800 dark:text-gray-200 mb-4">
      Быстрый поиск
    </h2>

    <div class="space-y-4">
      <p-select
        [fluid]="true"
        [options]="itemTypes()"
        [(ngModel)]="selectedItemType"
        (ngModelChange)="handleItemTypeChange($event)"
        placeholder="Выбрать категорию"
        class="w-full md:w-56"
      >
        <ng-template #selectedItem let-selectedOption>
          <div class="flex items-center gap-2">
            <div>{{ selectedOption }}</div>
          </div>
        </ng-template>
        <ng-template let-category #item>
          <div class="flex items-center gap-2">
            <div>{{ category }}</div>
          </div>
        </ng-template>
      </p-select>

      @if (itemTypeIsVehicle()) {
        <!-- <p-select
          [fluid]="true"
          [options]="categoriesList()"
          [dataKey]="'Id'"
          [ariaLabel]="'Name'"
          [optionLabel]="'Name'"
          [optionValue]="'Id'"
          [(ngModel)]="selectedCategory"
          [filter]="true"
          filterBy="Name"
          [showClear]="true"
          placeholder="1. Выбрать тип техники"
          class="w-full md:w-56"
        > -->
        <p-select
          [fluid]="true"
          [options]="categories()"
          [(ngModel)]="selectedCategory"
          [filter]="true"
          filterBy="Name"
          [showClear]="true"
          optionLabel="Name"
          placeholder="1. Выбрать тип техники"
          (onClear)="handleCategoryClear()"
          (onChange)="handleCategoryChange($event)"
          class="w-full md:w-56"
        >
        </p-select>
        @if (categoryIsSelected()) {
          <p-select
            [fluid]="true"
            [options]="brands()"
            [(ngModel)]="selectedBrand"
            [filter]="true"
            filterBy="Name"
            [showClear]="true"
            optionLabel="Name"
            (onClear)="handleBrandClear()"
            (onChange)="handleBrandChange($event)"
            placeholder="2. Выбрать марку техники"
            class="w-full md:w-56"
          >
          </p-select>
          @if (brandIsSelected()) {
            <p-select
              [fluid]="true"
              [options]="models()"
              [(ngModel)]="selectedModel"
              [filter]="true"
              filterBy="name"
              optionLabel="Name"
              (onClear)="handleModelClear()"
              (onChange)="handleModelChange($event)"
              [showClear]="true"
              placeholder="3. Выбрать модель техники"
              class="w-full md:w-56"
            >
            </p-select>
            @if (
              brandIsSelected() && categoryIsSelected() && modelIsSelected()
            ) {
              <button
                (click)="navigateVehicles()"
                class="w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-2 px-4 rounded-md transition duration-200"
              >
                Найти предложения
              </button>
            }
          }
        }
      }
      @if (itemTypeIsVehicle()) {
        <input
          pInputText
          [placeholder]="'Введите что интересует'"
          [fluid]="true"
          [(ngModel)]="vehicleTextInput"
        />
        <button
          (click)="navigateSpares()"
          class="w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-2 px-4 rounded-md transition duration-200"
        >
          Найти предложения
        </button>
      }
    </div>
  </div>
</div>
