<!--<div class="bg-gray-50 dark:bg-gray-900 min-h-screen">-->
<!--	<div class="container mx-auto px-4 py-8">-->
<!--		<div class="text-center mb-8">-->
<!--			<h1 class="text-3xl md:text-4xl font-bold text-gray-900 dark:text-white">Каталог техники</h1>-->
<!--		</div>-->

<!--		<div class="max-w-7xl mx-auto">-->
<!--			<div class="block lg:hidden mb-6">-->
<!--				<app-vehicles-text-search (textSearchSubmit)="handleUserVehiclesTextSearchSubmit($event)">-->
<!--					<app-vehicles-price-sort (sortChange)="handleUserVehiclePriceSortModeChange($event)" />-->
<!--				</app-vehicles-text-search>-->
<!--			</div>-->
<!--			<div class="grid grid-cols-1 lg:grid-cols-4 gap-6">-->
<!--				<aside class="lg:col-span-1">-->
<!--					<div class="bg-white dark:bg-gray-800 rounded-lg shadow p-6 sticky top-4">-->
<!--						<h2 class="text-lg font-semibold text-gray-900 dark:text-white mb-4">Фильтры</h2>-->
<!--						<app-vehicle-price-filter-form-part (priceChanged)="handleUserPriceFilterInput($event)" />-->
<!--						<div class="flex flex-col gap-2">-->
<!--							<app-vehicle-category-filter-form-part-->
<!--								[categories]="categories()"-->
<!--								[currentCategory]="selectFilterParameters().category"-->
<!--								(categorySelected)="handleUserCategorySelect($event)"-->
<!--							/>-->
<!--							<app-vehicle-brand-filter-form-part-->
<!--								[brands]="brands()"-->
<!--								[disabled]="!selectFilterParameters().category"-->
<!--								[currentBrand]="selectFilterParameters().brand"-->
<!--								(brandChange)="handleUserBrandSelect($event)"-->
<!--							/>-->
<!--							<app-vehicle-model-filter-form-part-->
<!--								[models]="models()"-->
<!--								[disabled]="!selectFilterParameters().brand"-->
<!--								[currentModel]="selectFilterParameters().model"-->
<!--								(modelSelected)="handleUserModelSelect($event)"-->
<!--							/>-->
<!--							<app-vehicle-regions-filter-form-part-->
<!--								[locations]="locations()"-->
<!--								[disabled]="-->
<!--									!selectFilterParameters().model && !selectFilterParameters().category && !selectFilterParameters().brand-->
<!--								"-->
<!--								[selectedLocation]="selectFilterParameters().location"-->
<!--								(locationSelected)="handleUserLocationSelect($event)"-->
<!--							/>-->
<!--						</div>-->
<!--					</div>-->
<!--				</aside>-->

<!--				<div class="lg:col-span-3 flex flex-col">-->
<!--					<div class="hidden lg:block sticky p-4 top-4 bg-gray-50 dark:bg-gray-900">-->
<!--						<app-vehicles-text-search (textSearchSubmit)="handleUserVehiclesTextSearchSubmit($event)">-->
<!--							<app-vehicles-price-sort (sortChange)="handleUserVehiclePriceSortModeChange($event)" />-->
<!--						</app-vehicles-text-search>-->
<!--					</div>-->
<!--					<div class="mb-4 text-sm text-gray-600 dark:text-gray-400">-->
<!--						Найдено:-->
<!--						<span class="font-semibold">{{ vehicles().TotalCount }}</span> объявлений-->
<!--					</div>-->

<!--					<div class="space-y-4">-->
<!--						@for (vehicle of vehicles().Vehicles; track vehicle.VehicleId) {-->
<!--							<article-->
<!--								class="bg-white dark:bg-gray-800 rounded-lg shadow hover:shadow-md transition-shadow duration-200 overflow-hidden"-->
<!--							>-->
<!--								<app-vehicle-card [vehicle]="vehicle" />-->
<!--							</article>-->
<!--						}-->
<!--					</div>-->
<!--					@if (vehicles().TotalCount > vehiclesPageSize) {-->
<!--						<app-pagination-->
<!--							(pageChanged)="changePage($event)"-->
<!--							[current_page]="currentPage()"-->
<!--							[total_count]="vehicles().TotalCount"-->
<!--							[page_size]="vehiclesPageSize"-->
<!--						/>-->
<!--					}-->
<!--				</div>-->
<!--			</div>-->
<!--		</div>-->
<!--	</div>-->
<!--</div>-->

<div class="bg-gray-50 dark:bg-gray-900 min-h-screen">
  <div class="container mx-auto px-3 sm:px-4 py-4 sm:py-6 md:py-8">
    <!-- Header -->
    <div class="text-center mb-4 sm:mb-6 md:mb-8">
      <h1 class="text-2xl sm:text-3xl md:text-4xl font-bold text-gray-900 dark:text-white">Каталог техники</h1>
    </div>

    <div class="max-w-7xl mx-auto">
      <!-- Mobile Search & Sort (Above filters) -->
      <div class="block lg:hidden mb-4 sm:mb-6">
        <app-vehicles-text-search (textSearchSubmit)="handleUserVehiclesTextSearchSubmit($event)">
          <app-vehicles-price-sort (sortChange)="handleUserVehiclePriceSortModeChange($event)" />
        </app-vehicles-text-search>
      </div>

      <div class="grid grid-cols-1 lg:grid-cols-4 gap-4 sm:gap-6">
        <!-- Sidebar Filters -->
        <aside class="lg:col-span-1">
          <div class="bg-white dark:bg-gray-800 rounded-lg shadow p-4 sm:p-5 md:p-6 lg:sticky lg:top-4">
            <h2 class="text-base sm:text-lg font-semibold text-gray-900 dark:text-white mb-3 sm:mb-4">Фильтры</h2>

            <!-- Price Filter -->
            <div class="mb-4">
              <app-vehicle-price-filter-form-part (priceChanged)="handleUserPriceFilterInput($event)" />
            </div>

            <!-- Other Filters -->
            <div class="flex flex-col gap-3 sm:gap-2">
              <app-vehicle-category-filter-form-part
                [categories]="categories()"
                [currentCategory]="selectFilterParameters().category"
                (categorySelected)="handleUserCategorySelect($event)"
              />
              <app-vehicle-brand-filter-form-part
                [brands]="brands()"
                [disabled]="!selectFilterParameters().category"
                [currentBrand]="selectFilterParameters().brand"
                (brandChange)="handleUserBrandSelect($event)"
              />
              <app-vehicle-model-filter-form-part
                [models]="models()"
                [disabled]="!selectFilterParameters().brand"
                [currentModel]="selectFilterParameters().model"
                (modelSelected)="handleUserModelSelect($event)"
              />
              <app-vehicle-regions-filter-form-part
                [locations]="locations()"
                [disabled]="
                  !selectFilterParameters().model && !selectFilterParameters().category && !selectFilterParameters().brand
                "
                [selectedLocation]="selectFilterParameters().location"
                (locationSelected)="handleUserLocationSelect($event)"
              />
            </div>
          </div>
        </aside>

        <!-- Main Content -->
        <div class="lg:col-span-3 flex flex-col">
          <!-- Desktop Search & Sort (Sticky) -->
          <div class="hidden lg:block sticky p-3 md:p-4 top-4 bg-gray-50 dark:bg-gray-900 z-10">
            <app-vehicles-text-search (textSearchSubmit)="handleUserVehiclesTextSearchSubmit($event)">
              <app-vehicles-price-sort (sortChange)="handleUserVehiclePriceSortModeChange($event)" />
            </app-vehicles-text-search>
          </div>

          <!-- Results Count -->
          <div class="mb-3 sm:mb-4 text-xs sm:text-sm text-gray-600 dark:text-gray-400 px-1">
            Найдено:
            <span class="font-semibold">{{ vehicles().TotalCount }}</span>
            <span class="hidden sm:inline">объявлений</span>
            <span class="inline sm:hidden">шт.</span>
          </div>

          <!-- Vehicle Cards List -->
          <div class="space-y-3 sm:space-y-4">
            @for (vehicle of vehicles().Vehicles; track vehicle.VehicleId) {
              <article
                class="bg-white dark:bg-gray-800 rounded-lg shadow hover:shadow-md transition-shadow duration-200 overflow-hidden"
              >
                <app-vehicle-card [vehicle]="vehicle" />
              </article>
            } @empty {
              <div class="bg-white dark:bg-gray-800 rounded-lg shadow p-8 sm:p-12 text-center">
                <svg class="mx-auto h-12 w-12 sm:h-16 sm:w-16 text-gray-400 mb-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                </svg>
                <h3 class="text-base sm:text-lg font-medium text-gray-900 dark:text-white mb-2">
                  Ничего не найдено
                </h3>
                <p class="text-sm sm:text-base text-gray-500 dark:text-gray-400">
                  Попробуйте изменить параметры фильтрации
                </p>
              </div>
            }
          </div>

          <!-- Pagination -->
          @if (vehicles().TotalCount > vehiclesPageSize) {
            <div class="mt-6 sm:mt-8">
              <app-pagination
                (pageChanged)="changePage($event)"
                [current_page]="currentPage()"
                [total_count]="vehicles().TotalCount"
                [page_size]="vehiclesPageSize"
              />
            </div>
          }
        </div>
      </div>
    </div>
  </div>
</div>
